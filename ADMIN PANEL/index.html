<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome/Admin Panel</title>
    <link rel="stylesheet" href="/richtexteditor/rte_theme_default.css" />
    <script type="text/javascript" src="/richtexteditor/rte.js"></script>
    <script type="text/javascript" src='/richtexteditor/plugins/all_plugins.js'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="index.css">
    <style>
        .create {
            margin-left: -10px;
        }
    </style>
</head>
<body>
    <div class="adminpanel">
        <div class="header">
            <div class="logo">About<span>Me</span></div>
            <div class="user">
                <span>Welcome back Ami Paradis</span>
                <img src="Assets/User.svg" alt="">
            </div>
        </div>
        <div class="mainContents">
            <div class="Sidebar" style="height: 600; ">
                <a href="users.html">
                    <div class="sections">
                        <p style="padding-top: 10px;"> <i class="fa-solid fa-user"></i><span style="margin-left: -2px;">Manage Users</span>
                    </div>
                </a>
                <a href="index.html">
                    <div class="sections">
                        <p> <i class="fa-solid fa-newspaper" style="margin-left: -4px;"></i><span style="margin-left: px;">Manage Blogs</span>
                        </p>
                    </div>
                </a>
                <a href="message.html">
                    <div class="sections">
                        <p> <i style="position: relative;left: -20px;" class="fa-solid fa-envelope"></i><span
                                id="message">Messages</span></p>
                    </div>
                </a>
                <a href="notification.html">
                    <div class="sections">
                        <p><i class="fa-solid fa-bell"
                                style="position: relative;left: -5px;font-size: 40px;"></i><span
                                id="notification">Notifications</span></p>
                    </div>
                </a>
                <a href="Statics.html">
                    <div class="sections">
                        <p> <i class="fa-solid fa-chart-simple" style="position: relative;left: -22px;"></i><span
                                id="statics">Statistics</span></p>
                    </div>
                </a>
                <a href=".../homepage.htmml">
                    <div class="sections">
                        <p> <i style="position: relative;left: -30px;" class="fa-solid fa-right-from-bracket"></i><span
                                id="logout">Logout</span></p>
                    </div>
                </a>
            </div>

            <div class="rightside">
                <div class="usersblog">

                </div>
                <!-- HTML code for rich text editor -->

                <div class="create">
                    <h2>Create Blog</h2>
                    <form id="blogForm">
                        <h4>Title</h4>
                        <input type="text" id="blog-title" required />
                        <h4 style="margin-top: -20px;">Image</h4>
                        <div class="before"><input type="file" id="fileInput" accept="image">
                        <h4 style="margin-top: -10px;">Description</h4></div>
                        
                        <div class="selected-file" id="selectedFile"></div> <input type="text"  id="description">
                        <div class="texxeditor" style="width: 80%;">
                            <textarea id="richtext" required></textarea>
                        </div>
                        <button type="button" id="saveblog" style="width: 80%; height: 30px; margin-top: 10px; background-color: yellow; border: none;"><span>Create Blog</span></button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="JS/texteditor.js"></script>
   <!-- Script for addBlog.html -->
<script type="text/javascript" src="/richtexteditor/rte.js"></script>
<script type="text/javascript" src='/richtexteditor/plugins/all_plugins.js'></script>
<script src="JS/texteditor.js"></script>
<script>
    window.addEventListener("load", function() {
        const saveBlogButton = document.getElementById("saveblog");
        const blogTitle = document.getElementById("blog-title");
        const fileInput = document.getElementById("fileInput");
        const description = document.getElementById("description");
        const richText = document.getElementById("richtext");

        saveBlogButton.addEventListener("click", function() {
            console.log("Clicked Save Blog");

            var title = blogTitle.value;
            var image = fileInput.files[0];
            var desc = description.value;
            var text = richText.value;

            console.log("Title:", title);
            console.log("Image:", image);
            console.log("Description:", desc);
            console.log("Text:", text);

            if (title && image && desc && text) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    var imageSrc = e.target.result;

                    var blog = {
                        title: title,
                        image: imageSrc,
                        desc: desc,
                        text: text
                    };

                    saveBlogToLocalStorage(blog);
                    alert("Blog saved successfully!");
                };

                reader.readAsDataURL(image);
            } else {
                alert("Please fill all the fields!");
            }
        });

        function saveBlogToLocalStorage(blog) {
            var existingBlogs = JSON.parse(localStorage.getItem("blogs")) || [];
            existingBlogs.push(blog);
            localStorage.setItem("blogs", JSON.stringify(existingBlogs));
        }
    });
</script>
</body>
</html>
<script>
	var editor1 = new RichTextEditor("richtext");
	//editor1.setHTMLCode("Use inline HTML or setHTMLCode to init the default content.");
</script>